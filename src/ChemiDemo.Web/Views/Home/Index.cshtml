@page
@{
}

<h1>Available products:</h1>

<p>
    @{
        string wholeListInJson = MyApp.Namespace.IndexModel.Get("http://localhost:64888/Api/Products");
        string messageToUser = "";
        List<ChemiDemo.Web.Models.Product.Row> products = ChemiDemo.Web.Utility.JsonHandler.deSerializeProductsToList(wholeListInJson);

       

        for (int i = 0; i < products.Count; i++)
        { // as it is a local network it is still a bad idea to have a link function as a button to remove?
            <text> <a href="@products[i].Uri"> @products[i].Name </a> 
    <a href="http://localhost:64888/Api/Productdl/@products[i].Id">Download</a> 
    updated: @products[i].IsUpdated 
    <a href="http://localhost:64888/Api/ProductDelete/@products[i].Id">Remove</a><br/></text>
        }
        //@ChemiDemo.Web.Utility.Downloader.Download(products[i].Uri,products[i].Name)
    }




</p>